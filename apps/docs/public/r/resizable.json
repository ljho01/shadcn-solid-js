{
  "name": "resizable",
  "type": "registry:ui",
  "files": [
    {
      "path": "resizable.tsx",
      "content": "import {\n  type Component,\n  type JSX,\n  createContext,\n  createSignal,\n  createUniqueId,\n  useContext,\n  splitProps,\n  onMount,\n} from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\n\n/* -------------------------------- Context -------------------------------- */\n\ninterface ResizableContextValue {\n  direction: \"horizontal\" | \"vertical\";\n  registerPanel: (id: string, defaultSize: number) => void;\n  getPanelSize: (id: string) => number;\n  registerHandle: () => number;\n  startResize: (handleIndex: number, event: PointerEvent) => void;\n}\n\nconst ResizableContext = createContext<ResizableContextValue>();\n\nfunction useResizable() {\n  const context = useContext(ResizableContext);\n  if (!context) {\n    throw new Error(\"useResizable must be used within a ResizablePanelGroup\");\n  }\n  return context;\n}\n\n/* --------------------------- ResizablePanelGroup -------------------------- */\n\ninterface ResizablePanelGroupProps extends JSX.HTMLAttributes<HTMLDivElement> {\n  direction?: \"horizontal\" | \"vertical\";\n}\n\nconst ResizablePanelGroup: Component<ResizablePanelGroupProps> = (props) => {\n  const [local, rest] = splitProps(props, [\"class\", \"children\", \"direction\"]);\n  const direction = local.direction ?? \"horizontal\";\n\n  const [panels, setPanels] = createSignal<Map<string, number>>(new Map());\n  let panelOrder: string[] = [];\n  let handleCount = 0;\n  let containerRef!: HTMLDivElement;\n\n  const registerPanel = (id: string, defaultSize: number) => {\n    setPanels((prev) => {\n      const next = new Map(prev);\n      next.set(id, defaultSize);\n      return next;\n    });\n    if (!panelOrder.includes(id)) {\n      panelOrder.push(id);\n    }\n  };\n\n  const getPanelSize = (id: string) => {\n    return panels().get(id) ?? 50;\n  };\n\n  const startResize = (handleIndex: number, event: PointerEvent) => {\n    event.preventDefault();\n    const startPos = direction === \"horizontal\" ? event.clientX : event.clientY;\n    const containerRect = containerRef.getBoundingClientRect();\n    const containerSize =\n      direction === \"horizontal\" ? containerRect.width : containerRect.height;\n\n    const leftPanelId = panelOrder[handleIndex];\n    const rightPanelId = panelOrder[handleIndex + 1];\n    if (!leftPanelId || !rightPanelId) return;\n\n    const startLeftSize = getPanelSize(leftPanelId);\n    const startRightSize = getPanelSize(rightPanelId);\n\n    const onPointerMove = (e: PointerEvent) => {\n      const currentPos = direction === \"horizontal\" ? e.clientX : e.clientY;\n      const delta = ((currentPos - startPos) / containerSize) * 100;\n\n      const newLeftSize = Math.max(\n        10,\n        Math.min(startLeftSize + delta, startLeftSize + startRightSize - 10)\n      );\n      const newRightSize = startLeftSize + startRightSize - newLeftSize;\n\n      setPanels((prev) => {\n        const next = new Map(prev);\n        next.set(leftPanelId, newLeftSize);\n        next.set(rightPanelId, newRightSize);\n        return next;\n      });\n    };\n\n    const onPointerUp = () => {\n      document.removeEventListener(\"pointermove\", onPointerMove);\n      document.removeEventListener(\"pointerup\", onPointerUp);\n    };\n\n    document.addEventListener(\"pointermove\", onPointerMove);\n    document.addEventListener(\"pointerup\", onPointerUp);\n  };\n\n  const registerHandle = () => {\n    return handleCount++;\n  };\n\n  return (\n    <ResizableContext.Provider\n      value={{\n        direction,\n        registerPanel,\n        getPanelSize,\n        registerHandle,\n        startResize,\n      }}\n    >\n      <div\n        ref={containerRef}\n        data-slot=\"resizable-panel-group\"\n        data-direction={direction}\n        class={cn(\n          \"flex h-full w-full\",\n          direction === \"vertical\" && \"flex-col\",\n          local.class\n        )}\n        {...rest}\n      >\n        {local.children}\n      </div>\n    </ResizableContext.Provider>\n  );\n};\n\n/* ------------------------------ ResizablePanel ----------------------------- */\n\ninterface ResizablePanelProps extends JSX.HTMLAttributes<HTMLDivElement> {\n  defaultSize?: number;\n  minSize?: number;\n  maxSize?: number;\n}\n\nconst ResizablePanel: Component<ResizablePanelProps> = (props) => {\n  const [local, rest] = splitProps(props, [\n    \"class\",\n    \"children\",\n    \"defaultSize\",\n    \"minSize\",\n    \"maxSize\",\n  ]);\n  const { registerPanel, getPanelSize, direction } = useResizable();\n\n  const panelId = `panel-${createUniqueId()}`;\n  const defaultSize = local.defaultSize ?? 50;\n\n  onMount(() => {\n    registerPanel(panelId, defaultSize);\n  });\n\n  const size = () => getPanelSize(panelId);\n\n  return (\n    <div\n      data-slot=\"resizable-panel\"\n      data-panel-id={panelId}\n      class={cn(\"overflow-hidden\", local.class)}\n      style={{\n        [direction === \"horizontal\" ? \"width\" : \"height\"]: `${size()}%`,\n        \"flex-shrink\": \"0\",\n        \"flex-grow\": \"0\",\n      }}\n      {...rest}\n    >\n      {local.children}\n    </div>\n  );\n};\n\n/* ----------------------------- ResizableHandle ---------------------------- */\n\ninterface ResizableHandleProps extends JSX.HTMLAttributes<HTMLDivElement> {\n  withHandle?: boolean;\n}\n\nconst ResizableHandle: Component<ResizableHandleProps> = (props) => {\n  const [local, rest] = splitProps(props, [\"class\", \"withHandle\"]);\n  const { direction, startResize, registerHandle } = useResizable();\n  const handleIndex = registerHandle();\n\n  return (\n    <div\n      data-slot=\"resizable-handle\"\n      class={cn(\n        \"bg-border focus-visible:ring-ring ring-offset-background relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:outline-hidden\",\n        direction === \"horizontal\"\n          ? \"w-px cursor-col-resize\"\n          : \"h-px w-full cursor-row-resize after:left-0 after:h-1 after:w-full after:translate-x-0 after:-translate-y-1/2 [&>div]:rotate-90\",\n        local.class\n      )}\n      onPointerDown={(e) => startResize(handleIndex, e)}\n      {...rest}\n    >\n      {local.withHandle && (\n        <div class=\"bg-border z-10 flex h-6 w-1 shrink-0 rounded-lg\" />\n      )}\n    </div>\n  );\n};\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle };\nexport type {\n  ResizablePanelGroupProps,\n  ResizablePanelProps,\n  ResizableHandleProps,\n};\n",
      "type": "registry:ui",
      "target": "components/ui/resizable.tsx"
    },
    {
      "path": "index.ts",
      "content": "export { ResizablePanelGroup, ResizablePanel, ResizableHandle } from './resizable';\nexport type {\n  ResizablePanelGroupProps,\n  ResizablePanelProps,\n  ResizableHandleProps,\n} from './resizable';\n",
      "type": "registry:ui",
      "target": "components/ui/index.ts"
    }
  ],
  "devDependencies": [
    "tsup@^8.3.6",
    "typescript@^5.7.3",
    "solid-js@^1.9.3",
    "vitest@^2.1.8"
  ]
}