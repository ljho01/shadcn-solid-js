{
  "name": "calendar",
  "type": "registry:ui",
  "files": [
    {
      "path": "calendar.tsx",
      "content": "import {\n  type Component,\n  type JSX,\n  createSignal,\n  createMemo,\n  splitProps,\n  For,\n} from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\n\n/* -------------------------------- Helpers -------------------------------- */\n\nconst DAYS = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\n\nfunction getDaysInMonth(year: number, month: number): number {\n  return new Date(year, month + 1, 0).getDate();\n}\n\nfunction getFirstDayOfMonth(year: number, month: number): number {\n  return new Date(year, month, 1).getDay();\n}\n\nfunction isSameDay(a: Date, b: Date): boolean {\n  return (\n    a.getFullYear() === b.getFullYear() &&\n    a.getMonth() === b.getMonth() &&\n    a.getDate() === b.getDate()\n  );\n}\n\nfunction isToday(date: Date): boolean {\n  return isSameDay(date, new Date());\n}\n\n/* -------------------------------- Calendar ------------------------------- */\n\ninterface CalendarProps extends Omit<\n  JSX.HTMLAttributes<HTMLDivElement>,\n  \"onChange\" | \"disabled\" | \"onSelect\"\n> {\n  selected?: Date;\n  defaultMonth?: Date;\n  onSelect?: (date: Date) => void;\n  disabled?: (date: Date) => boolean;\n}\n\nconst Calendar: Component<CalendarProps> = (props) => {\n  const [local, rest] = splitProps(props, [\n    \"class\",\n    \"selected\",\n    \"defaultMonth\",\n    \"onSelect\",\n    \"disabled\",\n  ]);\n\n  const initialDate = local.defaultMonth ?? local.selected ?? new Date();\n  const [viewYear, setViewYear] = createSignal(initialDate.getFullYear());\n  const [viewMonth, setViewMonth] = createSignal(initialDate.getMonth());\n\n  const daysInMonth = createMemo(() => getDaysInMonth(viewYear(), viewMonth()));\n  const firstDay = createMemo(() =>\n    getFirstDayOfMonth(viewYear(), viewMonth())\n  );\n\n  const monthLabel = createMemo(() => {\n    const date = new Date(viewYear(), viewMonth());\n    return date.toLocaleDateString(\"en-US\", { month: \"long\", year: \"numeric\" });\n  });\n\n  const weeks = createMemo(() => {\n    const cells: (number | null)[] = [];\n    for (let i = 0; i < firstDay(); i++) cells.push(null);\n    for (let d = 1; d <= daysInMonth(); d++) cells.push(d);\n    while (cells.length % 7 !== 0) cells.push(null);\n\n    const rows: (number | null)[][] = [];\n    for (let i = 0; i < cells.length; i += 7) {\n      rows.push(cells.slice(i, i + 7));\n    }\n    return rows;\n  });\n\n  const prevMonth = () => {\n    if (viewMonth() === 0) {\n      setViewMonth(11);\n      setViewYear((y) => y - 1);\n    } else {\n      setViewMonth((m) => m - 1);\n    }\n  };\n\n  const nextMonth = () => {\n    if (viewMonth() === 11) {\n      setViewMonth(0);\n      setViewYear((y) => y + 1);\n    } else {\n      setViewMonth((m) => m + 1);\n    }\n  };\n\n  const handleSelect = (day: number) => {\n    const date = new Date(viewYear(), viewMonth(), day);\n    if (local.disabled?.(date)) return;\n    local.onSelect?.(date);\n  };\n\n  return (\n    <div\n      data-slot=\"calendar\"\n      class={cn(\"bg-background group/calendar p-2\", local.class)}\n      {...rest}\n    >\n      {/* Header with navigation */}\n      <div class=\"flex items-center justify-between pb-2\">\n        <button\n          type=\"button\"\n          class=\"inline-flex size-7 items-center justify-center rounded-md bg-transparent p-0 text-sm font-medium select-none hover:bg-accent hover:text-accent-foreground aria-disabled:opacity-50\"\n          onClick={prevMonth}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"m15 18-6-6 6-6\" />\n          </svg>\n        </button>\n        <div class=\"text-sm font-medium select-none\">{monthLabel()}</div>\n        <button\n          type=\"button\"\n          class=\"inline-flex size-7 items-center justify-center rounded-md bg-transparent p-0 text-sm font-medium select-none hover:bg-accent hover:text-accent-foreground aria-disabled:opacity-50\"\n          onClick={nextMonth}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"m9 18 6-6-6-6\" />\n          </svg>\n        </button>\n      </div>\n\n      {/* Day headers */}\n      <table class=\"w-full border-collapse\">\n        <thead>\n          <tr>\n            <For each={DAYS}>\n              {(day) => (\n                <th class=\"text-muted-foreground w-8 p-0 text-center text-[0.8rem] font-normal select-none\">\n                  {day}\n                </th>\n              )}\n            </For>\n          </tr>\n        </thead>\n        <tbody>\n          <For each={weeks()}>\n            {(week) => (\n              <tr>\n                <For each={week}>\n                  {(day) => {\n                    if (day === null) {\n                      return <td class=\"p-0 text-center text-sm\" />;\n                    }\n\n                    const date = new Date(viewYear(), viewMonth(), day);\n                    const isDisabled = () => local.disabled?.(date) ?? false;\n                    const isSelected = () =>\n                      local.selected ? isSameDay(local.selected, date) : false;\n                    const isTodayCell = () => isToday(date);\n\n                    return (\n                      <td class=\"p-0 text-center text-sm\">\n                        <button\n                          type=\"button\"\n                          class={cn(\n                            \"inline-flex size-8 items-center justify-center rounded-md text-sm font-normal leading-none transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-hidden focus-visible:ring-ring/50 focus-visible:ring-[3px] dark:hover:text-foreground\",\n                            isSelected() &&\n                              \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground\",\n                            isTodayCell() &&\n                              !isSelected() &&\n                              \"bg-accent text-accent-foreground\",\n                            isDisabled() && \"pointer-events-none opacity-50\"\n                          )}\n                          disabled={isDisabled()}\n                          onClick={() => handleSelect(day)}\n                        >\n                          {day}\n                        </button>\n                      </td>\n                    );\n                  }}\n                </For>\n              </tr>\n            )}\n          </For>\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport { Calendar };\nexport type { CalendarProps };\n",
      "type": "registry:ui",
      "target": "components/ui/calendar.tsx"
    },
    {
      "path": "index.ts",
      "content": "export { Calendar } from './calendar';\nexport type { CalendarProps } from './calendar';\n",
      "type": "registry:ui",
      "target": "components/ui/index.ts"
    }
  ],
  "devDependencies": [
    "tsup@^8.3.6",
    "typescript@^5.7.3",
    "solid-js@^1.9.3",
    "vitest@^2.1.8"
  ]
}