{
  "name": "combobox",
  "type": "registry:ui",
  "files": [
    {
      "path": "combobox.tsx",
      "content": "import {\n  type Component,\n  For,\n  Show,\n  createMemo,\n  createSignal,\n  splitProps,\n} from \"solid-js\";\nimport * as PopoverPrimitive from \"@radix-solid/popover\";\nimport { cn } from \"~/lib/utils\";\n\n/* ------------------------------ ComboboxItem ------------------------------ */\n\ninterface ComboboxOption {\n  value: string;\n  label: string;\n  disabled?: boolean;\n}\n\n/* ------------------------------- Combobox --------------------------------- */\n\ninterface ComboboxProps {\n  class?: string;\n  options: ComboboxOption[];\n  value?: string;\n  onValueChange?: (value: string) => void;\n  placeholder?: string;\n  searchPlaceholder?: string;\n  emptyText?: string;\n}\n\nconst Combobox: Component<ComboboxProps> = (props) => {\n  const [local] = splitProps(props, [\n    \"class\",\n    \"options\",\n    \"value\",\n    \"onValueChange\",\n    \"placeholder\",\n    \"searchPlaceholder\",\n    \"emptyText\",\n  ]);\n\n  const [open, setOpen] = createSignal(false);\n  const [search, setSearch] = createSignal(\"\");\n\n  const filteredOptions = createMemo(() => {\n    const opts = local.options ?? [];\n    const query = search().toLowerCase();\n    if (!query) return opts;\n    return opts.filter((opt) => opt.label.toLowerCase().includes(query));\n  });\n\n  const selectedLabel = createMemo(() => {\n    const opts = local.options ?? [];\n    const selected = opts.find((opt) => opt.value === local.value);\n    return selected?.label;\n  });\n\n  const handleSelect = (value: string) => {\n    local.onValueChange?.(value);\n    setOpen(false);\n    setSearch(\"\");\n  };\n\n  return (\n    <PopoverPrimitive.Root open={open()} onOpenChange={setOpen}>\n      <PopoverPrimitive.Trigger\n        data-slot=\"combobox-trigger\"\n        class={cn(\n          \"border-input bg-background flex h-9 w-full items-center justify-between rounded-lg border px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground focus:border-ring focus:ring-ring/50 focus:ring-3 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50\",\n          local.class\n        )}\n      >\n        <span class={cn(!selectedLabel() && \"text-muted-foreground\")}>\n          {selectedLabel() ?? local.placeholder ?? \"Select...\"}\n        </span>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          class=\"ml-2 shrink-0 opacity-50\"\n        >\n          <path d=\"m7 15 5 5 5-5\" />\n          <path d=\"m7 9 5-5 5 5\" />\n        </svg>\n      </PopoverPrimitive.Trigger>\n      <PopoverPrimitive.Portal>\n        <PopoverPrimitive.Content\n          data-slot=\"combobox-content\"\n          class={cn(\n            \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 z-50 w-[var(--radix-popover-trigger-width)] rounded-lg p-1 shadow-md ring-1 outline-hidden duration-100\"\n          )}\n          sideOffset={4}\n        >\n          <div class=\"flex items-center border-b px-2 pb-1.5\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              class=\"mr-2 shrink-0 opacity-50\"\n            >\n              <circle cx=\"11\" cy=\"11\" r=\"8\" />\n              <path d=\"m21 21-4.3-4.3\" />\n            </svg>\n            <input\n              data-slot=\"combobox-input\"\n              class=\"placeholder:text-muted-foreground flex h-8 w-full bg-transparent text-sm outline-none disabled:cursor-not-allowed disabled:opacity-50\"\n              placeholder={local.searchPlaceholder ?? \"Search...\"}\n              value={search()}\n              onInput={(e) => setSearch(e.currentTarget.value)}\n            />\n          </div>\n          <div class=\"max-h-60 overflow-y-auto py-1\">\n            <Show\n              when={filteredOptions().length > 0}\n              fallback={\n                <p class=\"text-muted-foreground py-6 text-center text-sm\">\n                  {local.emptyText ?? \"No results found.\"}\n                </p>\n              }\n            >\n              <For each={filteredOptions()}>\n                {(option) => (\n                  <button\n                    data-slot=\"combobox-item\"\n                    type=\"button\"\n                    disabled={option.disabled}\n                    class={cn(\n                      \"relative flex w-full cursor-default items-center gap-2 rounded-md py-1 pr-8 pl-1.5 text-sm outline-hidden select-none hover:bg-accent hover:text-accent-foreground disabled:pointer-events-none disabled:opacity-50\",\n                      option.value === local.value && \"bg-accent\"\n                    )}\n                    onClick={() => handleSelect(option.value)}\n                  >\n                    <span\n                      class={cn(\n                        \"mr-2 flex size-4 items-center justify-center\",\n                        option.value !== local.value && \"invisible\"\n                      )}\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        viewBox=\"0 0 24 24\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        stroke-width=\"2\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                      >\n                        <path d=\"M20 6 9 17l-5-5\" />\n                      </svg>\n                    </span>\n                    {option.label}\n                  </button>\n                )}\n              </For>\n            </Show>\n          </div>\n        </PopoverPrimitive.Content>\n      </PopoverPrimitive.Portal>\n    </PopoverPrimitive.Root>\n  );\n};\n\nexport { Combobox };\nexport type { ComboboxProps, ComboboxOption };\n",
      "type": "registry:ui",
      "target": "components/ui/combobox.tsx"
    },
    {
      "path": "index.ts",
      "content": "export { Combobox } from './combobox';\nexport type { ComboboxProps, ComboboxOption } from './combobox';\n",
      "type": "registry:ui",
      "target": "components/ui/index.ts"
    }
  ],
  "dependencies": [
    "@radix-solid/popover@workspace:*"
  ],
  "devDependencies": [
    "tsup@^8.3.6",
    "typescript@^5.7.3",
    "solid-js@^1.9.3",
    "vitest@^2.1.8"
  ]
}